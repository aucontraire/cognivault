#!/bin/sh

echo "ğŸ”§ Pre-commit hook: Running code formatter..."
make format
status=$?

if [ $status -ne 0 ]; then
  echo "âŒ Formatting failed. Commit aborted."
  exit 1
fi

echo "âœ… Formatting complete. Proceeding with type check..."

echo "ğŸš§ Pre-commit hook: Running type checks..."
make typecheck
if [ $? -ne 0 ]; then
  echo "âŒ Type check failed. Commit aborted."
  exit 1
fi

echo "âœ… Type check complete. Proceeding with commit."
exit 0